<blockquote>
<p>介绍fis-plus 开发命令，完成你的所有开发需求</p>
</blockquote>
<p>执行 <strong>fisp --help</strong> 让我们来看一下fis命令的相关帮助：</p>
<pre><code>Usage: fis-plus &lt;command&gt;

Commands:

  release     build and deploy your project
  install     install components and demos, create `widget` and `module`
  server      launch a php-cgi server

Options:

  -h, --help     output usage information
  -v, --version  output the version number
  --no-color     disable colored output
</code></pre><ul>
<li><strong>fisp release</strong>： 编译并发布你的项目</li>
<li><strong>fisp server</strong>：启动一个 <strong>1.8M</strong> 大小的内置调试服务器，它采用php-java-bridge技术实现， <em>依赖java、php-cgi外部环境</em> ，可以 <strong>完美支持运行php程序</strong> 哦。</li>
</ul>
<h3 class="" id="fis release"><a name="fis release" class="anchor" href="#fis release"><span class="header-link"></span></a>fis release</h3><p>release是一个非常强大的命令。</p>
<ul>
<li>它的主要任务就是进行代码的 <strong>编译</strong> 与 <strong>部署</strong></li>
<li>它的参数囊括了前端开发所需的各种基础功能。通过添加不同参数，组合使用。</li>
</ul>
<p>可以在命令行下执行
执行 <strong>fisp release -h</strong> 让我们来看一下fis命令的相关帮助：</p>
<pre><code class="lang-bash">Usage: release [options]

  Options:

    -h, --help             output usage information
    -d, --dest &lt;names&gt;     release output destination
    -m, --md5 [level]      md5 release option
    -D, --domains          add domain name
    -l, --lint             with lint
    -t, --test             with unit testing
    -o, --optimize         with optimizing
    -p, --pack             with package
    -w, --watch            monitor the changes of project
    -L, --live             automatically reload your browser
    -c, --clean            clean compile cache
    -r, --root &lt;path&gt;      set project root
    -f, --file &lt;filename&gt;  set fis-conf file
    -u, --unique           use unique compile caching
    --verbose              enable verbose output
</code></pre>
<ul>
<li><code>--domain</code> 或 <code>-D</code> 参数，对静态资源添加domian。<a href="./config.html#domain配置">domain配置</a></li>
<li><code>--watch</code> 或 <code>-w</code> 参数，对项目进行增量编译，监听文件变化再触发编译</li>
<li><code>--md5 [level]</code> 或 <code>-m [level]</code> 参数，在编译的时候可以对文件自动加md5戳，从此告别在静态资源url后面写?version=xxx的时代</li>
<li><code>--lint</code> 或 <code>-l</code> 参数，支持在编译的时候根据项目配置自动代码检查</li>
<li><code>--test</code> 或 <code>-t</code> 参数，支持在编译的时候对代码进行自动化测试</li>
<li><code>--pack</code> 或 <code>-p</code> 参数，对产出文件根据项目配置进行打包</li>
<li><code>--optimize</code> 或 <code>-o</code> 参数，对js、css、html进行压缩</li>
<li><p><code>--dest [path|name]</code> 或 <code>-d</code> 参数，来指定编译后的代码部署路径，支持发布到 <strong>本地目录、本地调试服务器目录、远程机器目录(需要配置)</strong>，它与--watch参数配合使用，可以让你的代码保存就上传！而且--dest值支持逗号分隔，这也就意味着，你 <strong>一次编译可以同时发布到本地以及多台远程机器上</strong>！举几个栗子:</p>
<ul>
<li><p>发布到fisp server open目录下用于本地调试</p>
<pre><code class="lang-bash">  fisp release
  # or
  fisp release --dest preview
</code></pre>
</li>
<li><p>发布到项目根目录的output目录下， <em>注意，这里的output其实是一个内置的部署配置名，而不是一个目录名</em>。</p>
<pre><code class="lang-bash">  fisp release -d output
</code></pre>
</li>
<li><p>发布到相对 <code>工作目录</code> 的路径</p>
<pre><code class="lang-bash">  fisp release -d ../output
</code></pre>
</li>
<li><p>发布到绝对路径</p>
<pre><code class="lang-bash">  fisp release -d /home/work/ouput
  # win
  fisp release -d d:/work/output
</code></pre>
</li>
<li><p>使用配置文件的 <a href="./deploy.html">deploy节点配置</a> 进行发布，此配置可将代码上传至远端</p>
<pre><code class="lang-bash">  fisp release -d remote
</code></pre>
</li>
<li><p>以上所有发布规则任意组合使用（一次编译同时上传到多台远端机器 &amp; 项目根目录下的output &amp; 调试服务器根目录 &amp; 本地绝对路径）</p>
<pre><code class="lang-bash">  fisp releaes -d remote,qa,rd,output,preview,D:/work/output
</code></pre>
</li>
</ul>
</li>
<li><p><code>--live</code> 或 <code>-L</code> 参数，支持编译后自动刷新浏览器。fis需要使用 <a href="http://feedback.livereload.com/knowledgebase/articles/86242-how-do-i-install-and-use-the-browser-extensions-">LiveReload浏览器扩展</a> 来连接fis的livereload服务器：</p>
<ul>
<li><a href="http://download.livereload.com/2.0.9/LiveReload-2.0.9.safariextz">Safari</a></li>
<li><a href="https://chrome.google.com/webstore/detail/livereload/jnihajbhpnppcggbcgedagnkighmdlei">Chrome</a></li>
<li><a href="http://download.livereload.com/2.0.8/LiveReload-2.0.8.xpi">Firefox</a></li>
<li><p><a href="https://github.com/dvdotsenko/livereload_ie_extension/downloads">IE</a> - 真应该滚粗地球</p>
<p>安装好浏览器插件后，在common模块基础模板中添加一段注释代码：</p>
<pre><code>  &lt;!--添加livereload注释--&gt;
  &lt;!--livereload--&gt;
</code></pre><p>然后在相应需要开启livereload的模块(只能同时开启一个)编译时添加-L或--live参数，在浏览器里点击插件按钮进行连接，就完成了设置可以享受了~</p>
</li>
</ul>
</li>
<li><p><code>--unique</code> 或 <code>-u</code> 参数，每次编译创建一个独立的缓存目录，<strong>解决同一台机器多人编译互相影响的问题</strong>。如果在自己机器一人编译，那就不需要了。</p>
</li>
<li><code>--verbose</code> 参数，编译时输出log信息</li>
<li><code>--lint</code> 或 <code>-l</code> 参数，对项目进行lint检查</li>
<li><code>--test</code> 或 <code>-t</code> 参数，对项目执行自动化测试。目前仅保留接口，没有测试功能</li>
<li><code>--clean</code> 或 <code>-w</code> 参数，对项目进行清缓存编译。</li>
<li><code>--root</code> 或 <code>-r</code> 参数，设置项目根路径</li>
<li><code>--file</code> 或 <code>-f</code> 参数，编译时指定fis-conf配置文件路径</li>
</ul>
<h3 class="" id="fis server"><a name="fis server" class="anchor" href="#fis server"><span class="header-link"></span></a>fis server</h3><p>提供本地调试的轻量级服务器，完全模拟线上运行，用户可通过配置测试数据、请求模拟等，进行线下无后端环境开发。</p>
<p>fis的调试服务器依赖于用户本地的 <strong>jre</strong> 和 <strong>php-cgi</strong> 环境</p>
<ul>
<li><a href="./quickstart.html">环境安装请移步这里</a></li>
</ul>
<p>搞定环境后，让我们来启动调试服务器看看：</p>
<pre><code>$ fisp server start
checking java support : version 1.6.0
checking php-cgi support : version 5.2.11
starting fis-server on port : 8080
</code></pre><p>服务器启动之后，它会自动检查环境，最后告诉你它监听了8080端口，这个时候，你的浏览器应该打开了一个调试服务器根目录的浏览页面，地址是 <strong><a href="http://localhost:8080/">http://localhost:8080/</a></strong>。</p>
<p>常用server命令:</p>
<pre><code>//启动服务默认端口8080
fisp server start

//停止服务
fisp server stop

//启动服务设置端口为8081,同时设置php-cgi路径
fisp server start -p 8081 --php_exec &quot;D:/php/php-cgi.exe&quot;

//打开本地预览环境
fisp server open

//清空本地预览环境,&lt;慎用!&gt;，清空后请安装本地调试环境
fisp server clean
</code></pre><p>更多使用，在命令行执行 fisp server -h 查看</p>
<h3 class="" id="fisp install"><a name="fisp install" class="anchor" href="#fisp install"><span class="header-link"></span></a>fisp install</h3><blockquote>
<p>lights是FIS提供包管理工具，托管所有FIS资源。fisp install集成lights，并提供脚手架功能。</p>
</blockquote>
<pre><code class="lang-bash">  Usage: install &lt;command&gt; [options]

  Commands:

    module                 create a module
    widget                 create a widget

  Options:

    -h, --help                 output usage information
    -s, --scaffold &lt;scaffold&gt;
    -d, --dir &lt;name&gt;           create to dir
    --with-plugin              if create a module, whether include `plugin`
    --repos &lt;url&gt;              repository
    --verbose                  output verbose help
    --list [query]             list component from the repos
    --ld &lt;left_delimiter&gt;      smarty left_delimiter
    --rd &lt;right_delimiter&gt;     smarty right_delimiter

  Examples:

    $ fisp install module -d ./to/directory/other
    $ fisp install module -d ./to/directory/common --with-plugin
    $ fisp install module -d ./to/directory/other --ld &#39;&lt;%&#39; --rd &#39;%&gt;&#39;
    $ fisp install widget -d ./widget/box
    $ fisp install modjs //just download &#39;modjs&#39;
</code></pre>
<ul>
<li><a href="./lights.html">查看lights文档</a></li>
</ul>
