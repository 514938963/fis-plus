<h3 class="" id="编译优化工具"><a name="%E7%BC%96%E8%AF%91%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7" class="anchor" href="#%E7%BC%96%E8%AF%91%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7">编译优化工具</a></h3><h4 class=""><a name="%E6%A8%A1%E6%9D%BFXSS%E4%BF%AE%E5%A4%8D%E5%B7%A5%E5%85%B7" class="anchor" href="#%E6%A8%A1%E6%9D%BFXSS%E4%BF%AE%E5%A4%8D%E5%B7%A5%E5%85%B7">模板XSS修复工具</a></h4><ul>
<li>功能：对Smarty模板进行XSS校验修复。</li>
<li>默认开启：true(已默认配置)</li>
<li>配置:</li>
</ul>
<pre><code class="hljs lang-javascript">fis.config.<span class="hljs-keyword">set</span>(<span class="hljs-string">'modules.optimizer.tpl'</span>, <span class="hljs-string">'smarty-xss'</span>);

fis.config.<span class="hljs-keyword">set</span>(<span class="hljs-string">'settings.optimizer.smarty-xss'</span>, {
    <span class="hljs-string">'escapeMap'</span> : {
        <span class="hljs-string">'js'</span> : <span class="hljs-string">'f_escape_js'</span>,  <span class="hljs-comment">//配置js_escape指定js转义插件的名称</span>
        <span class="hljs-string">'html'</span> : <span class="hljs-string">'f_escape_xml'</span>, <span class="hljs-comment">//配置html_escape指定对于xml转义插件的名称</span>
        <span class="hljs-string">'data'</span> : <span class="hljs-string">'f_escape_data'</span>, <span class="hljs-comment">//配置data_escape指定data转义插件的名称</span>
        <span class="hljs-string">'path'</span> : <span class="hljs-string">'f_escape_path'</span>, <span class="hljs-comment">//配置path_escape指定url、path转义插件的名称</span>
        <span class="hljs-string">'event'</span> : <span class="hljs-string">'f_escape_event'</span>, <span class="hljs-comment">//配置event_escape指定event转义插件的名称</span>
        <span class="hljs-string">'no_escape'</span> : <span class="hljs-string">'escape:none'</span> <span class="hljs-comment">//不需要添加转义的变量标志</span>
    },
    <span class="hljs-string">'leftDelimiter'</span> : <span class="hljs-string">'{%'</span>, <span class="hljs-comment">//smarty左定界符</span>
    <span class="hljs-string">'rightDelimiter'</span> : <span class="hljs-string">'%}'</span>, <span class="hljs-comment">//smarty右定界符</span>
    <span class="hljs-string">'xssSafeVars'</span> :[          <span class="hljs-comment">//配置白名单</span>
        <span class="hljs-string">'fis_safe'</span>      <span class="hljs-comment">//支持正则</span>
    ]
});
</code></pre>
<h4 class=""><a name="%E5%9B%BE%E7%89%87%E5%90%88%E5%B9%B6%E5%B7%A5%E5%85%B7" class="anchor" href="#%E5%9B%BE%E7%89%87%E5%90%88%E5%B9%B6%E5%B7%A5%E5%85%B7">图片合并工具</a></h4><ul>
<li>功能：对</li>
<li>环境要求：依赖native插件，<a href="https://github.com/xiangshouding/node-images">node-images</a> 环境需要符合个插件的要求。(OS X、Windows提供了二进制包)</li>
<li>默认开启：true</li>
<li>使用文档：<a href="https://github.com/fex-team/fis-spriter-csssprites">用户文档</a></li>
<li>配置：</li>
</ul>
<pre><code class="hljs lang-javascript"><span class="hljs-tag">fis</span><span class="hljs-class">.config</span><span class="hljs-class">.set</span>(<span class="hljs-string">'settings.spriter.csssprites'</span>, {
    <span class="hljs-comment">//图之间的边距</span>
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">10</span>
});
</code></pre>
<h4 class=""><a name="%E6%A8%A1%E6%9D%BF%E5%8E%8B%E7%BC%A9%E5%B7%A5%E5%85%B7" class="anchor" href="#%E6%A8%A1%E6%9D%BF%E5%8E%8B%E7%BC%A9%E5%B7%A5%E5%85%B7">模板压缩工具</a></h4><ul>
<li>功能：对Smarty模板进行压缩。</li>
<li>默认开启：true(已默认配置)</li>
<li>配置:</li>
</ul>
<pre><code class="hljs lang-javascript">fis.config.set(<span class="hljs-symbol">'modules</span>.optimizer.tpl', <span class="hljs-symbol">'html</span>-compress');
</code></pre>
<ul>
<li>详细使用文档：<a href="https://github.com/wangcheng714/fis-optimizer-html-compress">用户文档</a></li>
</ul>
<h4 class=""><a name="JS%E5%8E%8B%E7%BC%A9%E5%B7%A5%E5%85%B7" class="anchor" href="#JS%E5%8E%8B%E7%BC%A9%E5%B7%A5%E5%85%B7">JS压缩工具</a></h4><ul>
<li>功能：通过uglify-js对JS文件进行压缩。</li>
<li>默认开启：true(已默认配置)</li>
<li>配置:</li>
</ul>
<pre><code class="hljs lang-javascript">fis.config.set(<span class="hljs-symbol">'modules</span>.optimizer.js', <span class="hljs-symbol">'uglify</span>-js');
</code></pre>
<h4 class=""><a name="CSS%E5%8E%8B%E7%BC%A9%E5%B7%A5%E5%85%B7" class="anchor" href="#CSS%E5%8E%8B%E7%BC%A9%E5%B7%A5%E5%85%B7">CSS压缩工具</a></h4><ul>
<li>功能：通过clean-css对CSS文件进行压缩。</li>
<li>默认开启：true(已默认配置)</li>
<li>配置:</li>
</ul>
<pre><code class="hljs lang-javascript">fis.config.set(<span class="hljs-symbol">'modules</span>.optimizer.css', <span class="hljs-symbol">'clean</span>-css');
</code></pre>
