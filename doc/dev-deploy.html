<h3 class="" id="上传测试机"><a name="%E4%B8%8A%E4%BC%A0%E6%B5%8B%E8%AF%95%E6%9C%BA" class="anchor" href="#%E4%B8%8A%E4%BC%A0%E6%B5%8B%E8%AF%95%E6%9C%BA"><span class="doc-link"></span></a>上传测试机</h3><blockquote>
<p>fis 通过简单的上传配置，把编译后文件上传到测试机, 方便联调。</p>
</blockquote>
<ul>
<li><a href="# 产出目录">产出目录</a></li>
<li><a href="# 上传配置">上传配置</a></li>
<li><a href="# 上传常见问题">上传常见问题</a></li>
</ul>
<h3 class="" id="发布上线"><a name="%E5%8F%91%E5%B8%83%E4%B8%8A%E7%BA%BF" class="anchor" href="#%E5%8F%91%E5%B8%83%E4%B8%8A%E7%BA%BF"><span class="doc-link"></span></a>发布上线</h3><blockquote>
<p>提供基础的 build.sh 编译脚本，用于上线时候自动编译项目。</p>
</blockquote>
<pre><code class="hljs lang-bash"><span class="hljs-shebang">#!/bin/bash
</span>
MOD_NAME=<span class="hljs-string">"output"</span>
TAR=<span class="hljs-string">"<span class="hljs-variable">$MOD_NAME</span>.tar.gz"</span>

<span class="hljs-comment"># add path</span>
<span class="hljs-built_in">export</span> PATH=/home/fis/npm/bin:<span class="hljs-variable">$PATH</span>
<span class="hljs-comment">#show fis-plus version</span>
fisp --version --no-color

<span class="hljs-comment">#通过 fis-plus release 命令进行模块编译 开启 optimize、md5、打包功能，同时需开启 -u 独立缓存编译方式，产出到同目录下 output 中</span>
fisp release -cuompd output
<span class="hljs-comment">#进入 output 目录</span>
<span class="hljs-built_in">cd</span> output
<span class="hljs-comment">#删除产出的 test 目录</span>
rm -rf <span class="hljs-built_in">test</span>

<span class="hljs-comment">#将 output 目录进行打包</span>
tar zcf <span class="hljs-variable">$TAR</span> ./*
mv <span class="hljs-variable">$TAR</span> ../

<span class="hljs-built_in">cd</span> ..
rm -rf output

mkdir output

mv <span class="hljs-variable">$TAR</span> output/

<span class="hljs-built_in">echo</span> <span class="hljs-string">"build end"</span>
</code></pre>
