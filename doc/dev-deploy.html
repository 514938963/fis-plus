<h3 class="" id="上线部署"><a name="%E4%B8%8A%E7%BA%BF%E9%83%A8%E7%BD%B2" class="anchor" href="#%E4%B8%8A%E7%BA%BF%E9%83%A8%E7%BD%B2"><span class="octicon octicon-link"></span></a>上线部署</h3><h4 class=""><a name="%E4%B8%8A%E4%BC%A0%E6%B5%8B%E8%AF%95%E6%9C%BA" class="anchor" href="#%E4%B8%8A%E4%BC%A0%E6%B5%8B%E8%AF%95%E6%9C%BA"><span class="octicon octicon-link"></span></a>上传测试机</h4><blockquote>
<p>fis 通过简单的上传配置，把编译后文件上传到测试机, 方便联调。</p>
</blockquote>
<ul>
<li><a href="#%E4%BA%A7%E5%87%BA%E7%9B%AE%E5%BD%95">产出目录</a></li>
<li><a href="#%E4%B8%8A%E4%BC%A0%E9%85%8D%E7%BD%AE">上传配置</a></li>
<li><a href="#%E4%B8%8A%E4%BC%A0%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98">上传常见问题</a></li>
</ul>
<h4 class=""><a name="%E5%8F%91%E5%B8%83%E4%B8%8A%E7%BA%BF" class="anchor" href="#%E5%8F%91%E5%B8%83%E4%B8%8A%E7%BA%BF"><span class="octicon octicon-link"></span></a>发布上线</h4><blockquote>
<p>提供基础的 build.sh 编译脚本，用于上线时候自动编译项目。</p>
</blockquote>
<pre><code class="hljs lang-bash"><span class="hljs-shebang">#!/bin/bash
</span>
MOD_NAME=<span class="hljs-string">"output"</span>
TAR=<span class="hljs-string">"<span class="hljs-variable">$MOD_NAME</span>.tar.gz"</span>

<span class="hljs-comment"># add path</span>
<span class="hljs-built_in">export</span> PATH=/home/fis/npm/bin:<span class="hljs-variable">$PATH</span>
<span class="hljs-comment">#show fis-plus version</span>
fisp --version --no-color

<span class="hljs-comment">#通过fis-plus release 命令进行模块编译 开启optimize、md5、打包功能，同时需开启-u 独立缓存编译方式，产出到同目录下output中</span>
fisp release -uompd output --no-color
<span class="hljs-comment">#进入output目录</span>
<span class="hljs-built_in">cd</span> output
<span class="hljs-comment">#删除产出的test目录</span>
rm -rf <span class="hljs-built_in">test</span>

<span class="hljs-comment">#将output目录进行打包</span>
tar zcf <span class="hljs-variable">$TAR</span> ./*
mv <span class="hljs-variable">$TAR</span> ../

<span class="hljs-built_in">cd</span> ..
rm -rf output

mkdir output

mv <span class="hljs-variable">$TAR</span> output/

<span class="hljs-built_in">echo</span> <span class="hljs-string">"build end"</span>
</code></pre>
