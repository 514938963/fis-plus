<h3 class="" id="配置"><a name="%E9%85%8D%E7%BD%AE" href="#%E9%85%8D%E7%BD%AE">配置</a></h3><h4 class=""><a name="%E6%A8%A1%E5%9D%97%E9%85%8D%E7%BD%AE" href="#%E6%A8%A1%E5%9D%97%E9%85%8D%E7%BD%AE">模块配置</a></h4><p>每个模块都有对应的模块名，同时需要在配置文件中申明，配置如下。</p>
<pre><code class="hljs lang-javascript">fis.config.<span class="hljs-keyword">set</span>(<span class="hljs-string">'namespace'</span>, <span class="hljs-string">'common'</span>);
</code></pre>
<p>模块编译输出时默认都为 utf8 编码，如果需要做修改，可以进行如下配置：</p>
<pre><code class="hljs lang-javascript">fis.config.<span class="hljs-keyword">set</span>(<span class="hljs-string">'project.charset'</span>, <span class="hljs-string">'gbk'</span>);
</code></pre>
<p>对静态资源进行 MD5 戳编译时，默认长度都为 7，当然你也可以进行修改：</p>
<pre><code class="hljs lang-javascript">fis.config.<span class="hljs-keyword">set</span>(<span class="hljs-string">'project.md5Length'</span>, <span class="hljs-number">8</span>);
</code></pre>
<h4 class=""><a name="Smarty%20%E9%85%8D%E7%BD%AE" href="#Smarty%20%E9%85%8D%E7%BD%AE">Smarty 配置</a></h4><p>在 fis-config.js 配置文件中，可在 setting 节点下配置 smarty 节点，修改定界符。</p>
<pre><code class="hljs lang-xml">fis.config.<span class="hljs-keyword">set</span>(<span class="hljs-string">'settings.smarty'</span>, {
    <span class="hljs-string">'left_delimiter'</span>  : <span class="hljs-string">'&lt;{'</span>,
    <span class="hljs-string">'right_delimiter'</span> : <span class="hljs-string">'}&gt;'</span>
})
</code></pre>
<h4 class=""><a name="%E6%9C%AC%E5%9C%B0%E8%B0%83%E8%AF%95%E7%8E%AF%E5%A2%83%20smarty%20%E5%AE%9A%E7%95%8C%E7%AC%A6%E4%BF%AE%E6%94%B9" href="#%E6%9C%AC%E5%9C%B0%E8%B0%83%E8%AF%95%E7%8E%AF%E5%A2%83%20smarty%20%E5%AE%9A%E7%95%8C%E7%AC%A6%E4%BF%AE%E6%94%B9">本地调试环境 smarty 定界符修改</a></h4><p>在模块根目录下放置 <code>smarty.conf</code> 将其内容设置为：</p>
<pre><code><span class="hljs-setting">left_delimiter=<span class="hljs-value"><span class="hljs-string">"&lt;{"</span></span></span>
<span class="hljs-setting">right_delimiter=<span class="hljs-value"><span class="hljs-string">"}&gt;"</span></span></span>
</code></pre><blockquote>
<p>smarty.conf 文件为一个 <code>ini</code> 文件，需要保证 php <code>parse_ini_file</code> 能够解析它</p>
</blockquote>
<p><em> 假设有多个模块，只需要在 common 模块根目录下放置 <code>smarty.conf</code></em></p>
<h4 class=""><a name="domain%20%E9%85%8D%E7%BD%AE" href="#domain%20%E9%85%8D%E7%BD%AE">domain 配置</a></h4><p>设置静态资源域名，domain 的值如果不是特殊需要，请不要以 &quot;/&quot; 结尾。</p>
<pre><code class="hljs lang-xml"><span class="hljs-comment">//fis-conf.js</span>
<span class="hljs-comment">//用法一</span>
fis.config.<span class="hljs-keyword">set</span>(<span class="hljs-string">'roadmap.domain'</span>, <span class="hljs-string">'http://s1.example.com, http://s2.example.com'</span>);

<span class="hljs-comment">//用法二</span>
fis.config.<span class="hljs-keyword">set</span>(<span class="hljs-string">'roadmap.domain'</span>, {
    <span class="hljs-comment">//widget目录下的所有css文件使用 http://css1.example.com 作为域名</span>
    <span class="hljs-string">'widget/**.css'</span> : <span class="hljs-string">'http://css1.example.com'</span>,
    <span class="hljs-comment">//所有的js文件使用 http://js1.example.com 或者  http://js2.example.com 作为域名</span>
    <span class="hljs-string">'**.js'</span> : [<span class="hljs-string">'http://js1.example.com'</span>, <span class="hljs-string">'http://js2.example.com'</span>]
});
</code></pre>
